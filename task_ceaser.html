<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Ceasar</title>
    <style>

        button{
            width: 5%;
            height: 10%;
            font-size: 1em;
        }

        label{
            font-size: 1.7em;
        }
    </style>

    <script>
        var inputText;
        var valueToShiftChar = 0;
        var selection = "";

        function encode(){
            selection = "encode";
            inputText = document.getElementById("dec").value;
            cutStringUnwantedEmptySpaceAtEnd();


            document.getElementById("enc").value = inputText;
        }

        function cutStringUnwantedEmptySpaceAtEnd(){
            /// Todo
            var emptySpaces = 0;

            for(let i = 0; i < inputText.length; i++){
                input
                if (inputText.charCodeAt(i) == " " ){
                    emptySpaces++;
                } else{
                    emptySpaces = 0;
                }

            }
        }

        function decode(){
            selection = "decode";
            inputText = document.getElementById("enc").value; 
            document.getElementById("dec").value = inputText;
        }

        function increaseShift(){
            valueToShiftChar++;
            encodeDecode();
        }

        function decreaseShift(){
                valueToShiftChar--;
                encodeDecode();
        }

        function shiftText(){
            var chars = "";
            for(let i=0; i < inputText.length; i++){
                var temp = inputText.charCodeAt(i);
                temp = temp + valueToShiftChar;
                chars += String.fromCharCode(temp);
            }
            return chars;
        }

        function setEncodeLabelOrDecodeLabel(chars){
            if (selection == "encode"){
                document.getElementById("enc").value = chars;
            } else{
                document.getElementById("dec").value = chars;
            }
        }

        function encodeDecode(){
            var chars = shiftText();
            setEncodeLabelOrDecodeLabel(chars);

            document.getElementById("currentShift").innerText = valueToShiftChar;
        }

    </script>
</head>
<body>
    <div>
        <textarea id="dec" name="decodeLabel" rows="10" cols="10">
        </textarea>
        <br>
        <button type="button" id="btn_encode" onclick="encode()">Encode Text</button>

        <br>
        <br>
        <br>

        <button type="button" id="incrementChars" onclick="increaseShift()">+</button>
        <button type="button" id="decrementChars" onclick="decreaseShift()">-</button>
        <label for="shift" id="currentShift">0</label>

        <br>
        <br>
        <br>

        <textarea id="enc" name="encodeLabel" rows="10" cols="10">
            </textarea>
        <br>
        <button type="button" id ="btn_decode" onclick="decode()">Decode Text</button>
    </div>
</body>
</html>